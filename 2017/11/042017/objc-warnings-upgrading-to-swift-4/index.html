<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link rel="stylesheet" href="/lib/pace/pace-theme-mac-osx.min.css?v=1.0.2">





  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">



















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=6.7.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.7.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.7.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.7.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Open a Swift 3 project in Xcode 9 and it will warn you that you can upgrade to Swift 4. If you accept the invite you end up with another warning that Swift 4 mode deprecates the Swift 3 @objc inferenc">
<meta name="keywords" content="tips,swift">
<meta property="og:type" content="article">
<meta property="og:title" content="@Objc Warnings Upgrading to Swift 4">
<meta property="og:url" content="https://duc.ninja/2017/11/042017/objc-warnings-upgrading-to-swift-4/index.html">
<meta property="og:site_name" content="Duc Ninja">
<meta property="og:description" content="Open a Swift 3 project in Xcode 9 and it will warn you that you can upgrade to Swift 4. If you accept the invite you end up with another warning that Swift 4 mode deprecates the Swift 3 @objc inferenc">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://duc.ninja/assets/images/2017-10-26-001.png">
<meta property="og:image" content="https://duc.ninja/assets/images/2017-10-27-001.png">
<meta property="og:image" content="https://duc.ninja/assets/images/2017-10-26-002.png">
<meta property="og:image" content="https://duc.ninja/assets/images/2017-10-26-003.png">
<meta property="og:image" content="https://duc.ninja/assets/images/2017-10-26-004.png">
<meta property="og:image" content="https://duc.ninja/assets/images/2017-10-28-001.png">
<meta property="og:image" content="https://duc.ninja/assets/images/2017-10-28-002.png">
<meta property="og:image" content="https://duc.ninja/assets/images/2017-10-29-001.png">
<meta property="og:updated_time" content="2019-09-28T02:53:12.641Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="@Objc Warnings Upgrading to Swift 4">
<meta name="twitter:description" content="Open a Swift 3 project in Xcode 9 and it will warn you that you can upgrade to Swift 4. If you accept the invite you end up with another warning that Swift 4 mode deprecates the Swift 3 @objc inferenc">
<meta name="twitter:image" content="https://duc.ninja/assets/images/2017-10-26-001.png">



  <link rel="alternate" href="/atom.xml" title="Duc Ninja" type="application/atom+xml">




  <link rel="canonical" href="https://duc.ninja/2017/11/042017/objc-warnings-upgrading-to-swift-4/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>@Objc Warnings Upgrading to Swift 4 | Duc Ninja</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Duc Ninja</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">I'm an iOS engineer and a ninja as well.</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-blog">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Blog</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-my-info">

    
    
    
      
    

    

    <a href="https://linkedin.com/in/nnduc" rel="noopener" target="_blank"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>My info</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  
    <div class="reading-progress-bar"></div>
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://duc.ninja/2017/11/042017/objc-warnings-upgrading-to-swift-4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Duc Ninja">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/assets/images/logo/icon-310x310.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Duc Ninja">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">@Objc Warnings Upgrading to Swift 4

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-11-04 21:15:00" itemprop="dateCreated datePublished" datetime="2017-11-04T21:15:00+07:00">2017-11-04</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-09-28 09:53:12" itemprop="dateModified" datetime="2019-09-28T09:53:12+07:00">2019-09-28</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Open a Swift 3 project in Xcode 9 and it will warn you that you can upgrade to Swift 4. If you accept the invite you end up with another warning that Swift 4 mode deprecates the Swift 3 <code>@objc</code> inference rules. What is this scary sounding warning and how do you make it go away?</p>
<a id="more"></a>
<h3 id="What-Is-objc-Inference"><a href="#What-Is-objc-Inference" class="headerlink" title="What Is @objc Inference?"></a>What Is @objc Inference?</h3><p>I’ll confess that <code>@objc</code> inference was not something I spent a lot of time thinking about before Swift 4 changed the rules. You can add <code>@objc</code> to Swift properties or methods to make them accessibile from Objective-C code. To make life easier the compiler also has some rules for when it will infer the <code>@objc</code> for you.</p>
<p>The Swift 3 compiler is generous about adding <code>@objc</code> even when you may not need it. This convenience comes at a cost of larger binaries as each of those methods gets some extra code to map between the Swift and Objective-C calling conventions.</p>
<p>The Swift 4 compiler takes a more conservative approach and only infers <code>@objc</code> in limited cases. For example, when overriding an <code>@objc</code> method or implementing an <code>@objc</code> protocol. So you don’t need to worry about marking all your <code>UITableViewDataSource</code> methods with <code>@objc</code>. You also don’t need to add <code>@objc</code> with <code>@IBAction</code>, <code>@IBOutlet</code>, <code>@IBInspectable</code> or <code>@NSManaged</code>.</p>
<p>This makes the rules simpler to understand but means you have some work to do when upgrading to Swift 4.</p>
<h3 id="Upgrading-To-Swift-4"><a href="#Upgrading-To-Swift-4" class="headerlink" title="Upgrading To Swift 4"></a>Upgrading To Swift 4</h3><p>When you open a Swift 3 project in Xcode 9 it greets you with a build warning - “Conversion to Swift 4 is available”:</p>
<p><img src="/assets/images/2017-10-26-001.png" alt></p>
<p>It is annoying to have a build warning but you are not forced to upgrade to Swift 4. Xcode 9 supports both Swift 3.2 and Swift 4 through a build setting so you can migrate one target at a time.</p>
<p><img src="/assets/images/2017-10-27-001.png" alt><br>Assuming you want to upgrade to Swift 4, clicking the build warning starts the Xcode migrator so you can choose which targets to upgrade. You have two choices for the migration:<br><img src="/assets/images/2017-10-26-002.png" alt></p>
<ul>
<li>Minimize Inference: This is the recommended approach. The migrator will only add <code>@objc</code> to your code in the obvious places such as methods that are the target for a <code>#selector</code>. This should give you a smaller binary but you have some extra manual work to do to finish the migration (see below).</li>
<li>Match Swift 3 Behavior: This approach adds <code>@objc</code> to your code anywhere the Swift 3 compiler would have inferred it. It is a safe choice but by sprinkling <code>@objc</code> throughout your code you will not see the smaller binary size.</li>
</ul>
<p>If you take the recommended approach Xcode will remind you that you have some extra work to do. This is also the only time you get a link to the <a href="https://help.apple.com/xcode/mac/9.0/index.html?localePath=en.lproj#/deve838b19a1" target="_blank" rel="noopener">migration guide</a>. You can also find this guide in the Xcode help if you look under the “Work in Xcode” section:<br><img src="/assets/images/2017-10-26-003.png" alt></p>
<p>Once Xcode has done its best it leaves you with this worrying warning message:<br><img src="/assets/images/2017-10-26-004.png" alt></p>
<p>If you check the build settings you will see that the Swift 3 rules for <code>@objc</code>inference are still in effect:<br><img src="/assets/images/2017-10-28-001.png" alt></p>
<p>This is helpful as you will get build time and run time warnings any time your code is missing an <code>@objc</code> that the Swift 3 rules would have inferred. So now is a good time to run your tests and check the logs.</p>
<h3 id="Manual-Fixing-objc-Inference"><a href="#Manual-Fixing-objc-Inference" class="headerlink" title="Manual Fixing @objc Inference"></a>Manual Fixing @objc Inference</h3><p>If you are working with a pure Swift project the migrator seems to do a pretty good job of adding <code>@objc</code> where you need it. For example, when you use a method with a <code>#selector</code>:</p>
<figure class="highlight leaf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">button.addTarget(self, action: <span class="function"><span class="keyword">#</span><span class="title">selector</span><span class="params">(<span class="variable">doAction</span>(<span class="variable">sender</span>:)</span></span>),</span><br><span class="line">                          for: .touchUpInside)</span><br></pre></td></tr></table></figure>

<p>Since it is <code>UIKit</code> code that calls the <code>doAction</code> method it must be accessible to the Objective-C runtime. Luckily the migrator adds the <code>@objc</code> for you:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">doAction</span><span class="params">(sender: UIButton)</span></span> &#123;</span><br><span class="line">    <span class="comment">// Do action here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>If you are working with a mixed Swift and Objective-C project you are likely to have more work to do. For example, suppose I had this Swift class:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyModel</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> someFlag = <span class="literal">false</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">doSomething</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"doing something"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Under the old Swift 3 rules properties and methods of <code>NSObject</code> subclasses were accessibile from Objective-C (unless they were private).</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">self.model.someFlag</span> = <span class="literal">YES</span><span class="comment">;</span></span><br><span class="line"><span class="section">[self.model doSomething]</span><span class="comment">;</span></span><br></pre></td></tr></table></figure>

<p>In Swift 4 mode this is no longer the case and you should see build and run time warnings prompting you to add <code>@objc</code>:<br><img src="/assets/images/2017-10-28-002.png" alt></p>
<p>I can fix the warnings by adding <code>@objc</code> to both the property and method declaration:</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">public</span> <span class="selector-tag">class</span> <span class="selector-tag">MyModel</span>: <span class="selector-tag">NSObject</span> &#123;</span><br><span class="line">  <span class="variable">@objc</span> var someFlag = false</span><br><span class="line">  <span class="variable">@objc</span> func doSomething() &#123;</span><br><span class="line">    <span class="selector-tag">print</span>(<span class="string">"doing something"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>If you are sure that you want to expose all properties and methods of a class to the Objective-C runtime you can use the <code>@objcMembers</code> annotation:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@objc</span>Members</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyModel</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> someFlag = <span class="literal">false</span>         <span class="comment">// @objc</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">doSomething</span><span class="params">()</span></span> &#123;         <span class="comment">// @objc</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"doing something"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Using <code>@objcMembers</code> also applies <code>@objc</code> by default to any extensions of the class. It can be convenient to collect methods that should be accessibile from Objective-C in an <code>@objc</code> extension. So another way to write the above would be:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyModel</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">  <span class="meta">@objc</span> <span class="keyword">var</span> someFlag = <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@objc</span> <span class="class"><span class="keyword">extension</span> <span class="title">MyModel</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">doSomething</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"doing something"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Note: I cannot move <code>someFlag</code> to the extension as they cannot contain stored properties.</p>
<p>You can also use <code>@nonobjc</code> to override a default <code>@objc</code>. For example in an <code>@objc</code> extension:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@objc</span> <span class="class"><span class="keyword">extension</span> <span class="title">MyModel</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">doSomething</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"doing something"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@nonobjc</span> <span class="function"><span class="keyword">func</span> <span class="title">doNothing</span><span class="params">()</span></span> &#123; <span class="comment">// Not accessibile from objc</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Completing-The-Migration"><a href="#Completing-The-Migration" class="headerlink" title="Completing The Migration"></a>Completing The Migration</h3><p>Once you are sure you have fixed everything you should disable the Swift 3 <code>@objc</code> inference rules in the build settings for each target:<br><img src="/assets/images/2017-10-29-001.png" alt></p>
<p>With the setting switched to <code>Default</code> the warning should go away and you can get back to work.</p>
<p>Source: <a href="https://useyourloaf.com" target="_blank" rel="noopener">useyourloaf</a></p>

      
    </div>

    
      


    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/tips/" rel="tag"># tips</a>
          
            <a href="/tags/swift/" rel="tag"># swift</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/11/042017/chained-foreach/" rel="next" title="Injecting forEach Into Chained Method Calls">
                <i class="fa fa-chevron-left"></i> Injecting forEach Into Chained Method Calls
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/11/042017/what-the-hell-is-swift-4-access-control/" rel="prev" title="What the Hell Is Swift 4 Access Control?">
                What the Hell Is Swift 4 Access Control? <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/assets/images/logo/icon-310x310.png" alt="Duc Ninja">
            
              <p class="site-author-name" itemprop="name">Duc Ninja</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives">
                
                    <span class="site-state-item-count">28</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">9</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/ducito" title="GitHub &rarr; https://github.com/ducito" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:nnduc@icloud.com" title="E-Mail &rarr; mailto:nnduc@icloud.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://twitter.com/duc_ninja" title="Twitter &rarr; https://twitter.com/duc_ninja" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i>Twitter</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://www.facebook.com/duc.ninja" title="FB Page &rarr; https://www.facebook.com/duc.ninja" rel="noopener" target="_blank"><i class="fa fa-fw fa-facebook"></i>FB Page</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="skype:ducnn01?call|chat" title="Skype &rarr; skype:ducnn01?call|chat" rel="noopener" target="_blank"><i class="fa fa-fw fa-skype"></i>Skype</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#What-Is-objc-Inference"><span class="nav-number">1.</span> <span class="nav-text">What Is @objc Inference?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Upgrading-To-Swift-4"><span class="nav-number">2.</span> <span class="nav-text">Upgrading To Swift 4</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Manual-Fixing-objc-Inference"><span class="nav-number">3.</span> <span class="nav-text">Manual Fixing @objc Inference</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Completing-The-Migration"><span class="nav-number">4.</span> <span class="nav-text">Completing The Migration</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2016 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Duc Ninja</span>

  

  
</div>









        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
























  



  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script src="/lib/reading_progress/reading_progress.js"></script>


  


  <script src="/js/src/utils.js?v=6.7.0"></script>

  <script src="/js/src/motion.js?v=6.7.0"></script>



  
  


  <script src="/js/src/schemes/muse.js?v=6.7.0"></script>



  
  <script src="/js/src/scrollspy.js?v=6.7.0"></script>
<script src="/js/src/post-details.js?v=6.7.0"></script>



  


  <script src="/js/src/bootstrap.js?v=6.7.0"></script>



  
  





  





  

  

  

  

  

  

  

  

  

  

  

  
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 700;
      line-height: 20px;
      color: #333;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      background-color: #eee;
      background-image: linear-gradient(#fcfcfc, #eee);
      border: 1px solid #d5d5d5;
      border-radius: 3px;
      user-select: none;
      outline: 0;
    }

    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      right: 4px;
      top: 8px;
    }

    .highlight-wrap:hover .copy-btn,
    .highlight-wrap .copy-btn:focus {
      opacity: 1
    }

    .highlight-wrap {
      position: relative;
    }
  </style>
  <script>
    $('.highlight').each(function (i, e) {
      var $wrap = $('<div>').addClass('highlight-wrap');
      $(e).after($wrap);
      $wrap.append($('<button>').addClass('copy-btn').append('Copy').on('click', function (e) {
        var code = $(this).parent().find('.code').find('.line').map(function (i, e) {
          return $(e).text();
        }).toArray().join('\n');
        var ta = document.createElement('textarea');
        var range = document.createRange(); //For Chrome
        var sel = window.getSelection(); //For Chrome
        var yPosition = window.pageYOffset || document.documentElement.scrollTop;
        ta.style.top = yPosition + 'px'; //Prevent page scroll
        ta.style.position = 'absolute';
        ta.style.opacity = '0';
        ta.value = code;
        ta.textContent = code; //For FireFox
        ta.contentEditable = true;
        ta.readOnly = false;
        document.body.appendChild(ta);
        range.selectNode(ta);
        sel.removeAllRanges();
        sel.addRange(range);
        ta.setSelectionRange(0, code.length);
        var result = document.execCommand('copy');
        
          if (result) $(this).text('Copied');
          else $(this).text('Copy failed');
        
        ta.blur(); //For iOS
        $(this).blur();
      })).on('mouseleave', function (e) {
        var $b = $(this).find('.copy-btn');
        setTimeout(function () {
          $b.text('Copy');
        }, 300);
      }).append(e);
    })
  </script>


  

</body>
</html>
